<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{layout :: layout(~{::title}, ~{::menu}, ~{::content})}">
<head>
    <title>My Sessions</title>
</head>
<body>
    <ul th:fragment="menu" class="nav flex-column">
        <li class="nav-item"><a class="nav-link" th:href="@{/student/dashboard}"><i class="bi bi-speedometer2"></i> Dashboard</a></li>
        <li class="nav-item"><a class="nav-link active" th:href="@{/student/sessions}"><i class="bi bi-calendar3"></i> My Timetable</a></li>
        <li class="nav-item"><a class="nav-link" th:href="@{/student/grades}"><i class="bi bi-clipboard-check"></i> My Grades</a></li>
    </ul>

    <div th:fragment="content">
        <h1 class="mb-4">My Weekly Timetable</h1>

        <div class="card">
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead class="table-light">
                            <tr>
                                <th>Day</th>
                                <th>Time</th>
                                <th>Module</th>
                                <th>Type</th>
                                <th>Room</th>
                                <th>Teacher</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="session : ${sessions}">
                                <td th:text="${session.timeslot.dayOfWeek}">MONDAY</td>
                                <td th:text="${session.timeslot.timeRange}">08:00-10:00</td>
                                <td><strong th:text="${session.module.name}">Module Name</strong></td>
                                <td>
                                    <span class="badge" 
                                          th:classappend="${session.type == T(com.uniflow.model.enums.SessionTypeEnum).LECTURE ? 'bg-primary' : session.type == T(com.uniflow.model.enums.SessionTypeEnum).TD ? 'bg-success' : 'bg-info'}"
                                          th:text="${session.type}">LECTURE</span>
                                </td>
                                <td th:text="${session.room.name}">A101</td>
                                <td th:text="${session.teacher.firstName + ' ' + session.teacher.lastName}">Teacher Name</td>
                            </tr>
                            <tr th:if="${sessions == null || #lists.isEmpty(sessions)}">
                                <td colspan="6" class="text-center text-muted">
                                    <p th:if="${group == null}">You are not assigned to a group yet. Please contact admin.</p>
                                    <p th:if="${group != null}">No sessions scheduled for your group.</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
